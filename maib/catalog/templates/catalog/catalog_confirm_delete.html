{% extends 'base.html' %}

{% block content %}
<div class="container-fluid px-3 py-5 d-flex justify-content-center">
  <div class="w-100" style="max-width: 480px;">
    <div class="p-4 p-md-5 rounded-4 border shadow-sm bg-danger bg-opacity-10">
      <h2 class="text-danger mb-3 fs-4 text-center">
        Удалить ковёр «<em>{{ carpet.name }}</em>»?
      </h2>

      <!-- Превью (необязательно, но полезно) -->
      <div class="d-flex align-items-center gap-3 mb-4">
        <img src="{{ carpet.get_image_url }}" alt="{{ carpet.name }}"
             style="width:84px;height:auto;border-radius:.5rem;border:1px solid #eee"
             onerror="this.onerror=null;this.src='{% static 'img/carpet_placeholder.jpg' %}'">
        <div class="small text-muted">
          <div><b>Код:</b> {{ carpet.code }}</div>
          <div><b>Цвет:</b> {{ carpet.color }}</div>
          <div><b>Коллекция:</b> {{ carpet.collection.name }}</div>
        </div>
      </div>

      <form method="post" action="{% url 'carpet_delete' carpet.pk %}" class="d-flex flex-column gap-3">
        {% csrf_token %}
        <button type="submit"
                class="btn btn-lg text-white fw-bold w-100"
                style="background: linear-gradient(90deg, #e63946, #f47c7c); border-radius: .75rem;">
          Да, удалить
        </button>
        <a href="{% url 'carpet_detail' carpet.pk %}"
           class="btn btn-outline-secondary btn-lg w-100 fw-bold">
          Отмена
        </a>
        <div class="small text-muted text-center">Действие необратимо.</div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
